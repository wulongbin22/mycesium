(function(){"use strict";var e={3979:function(e,n,t){var i=t(9963),o=t(6252),r={id:"cesiumContainer",ref:"cesiumContainer"},u={id:"cesiumUI"},a={class:"sliderUI"},s=(0,o._)("span",{class:"label"},"offX:",-1),l={class:"sliderUI"},c=(0,o._)("span",{class:"label"},"offY:",-1),f={class:"sliderUI"},d=(0,o._)("span",{class:"label"},"height:",-1);function p(e,n,t,i,p,h){var v=(0,o.up)("a-slider");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",r,null,512),(0,o._)("div",u,[(0,o._)("div",a,[s,e.isInit?((0,o.wg)(),(0,o.j4)(v,{key:0,class:"slider",value:e.offx,"onUpdate:value":n[0]||(n[0]=function(n){return e.offx=n}),min:-50,max:50,step:.1,onChange:h.onOffChange},null,8,["value","step","onChange"])):(0,o.kq)("",!0)]),(0,o._)("div",l,[c,e.isInit?((0,o.wg)(),(0,o.j4)(v,{key:0,class:"slider",value:e.offy,"onUpdate:value":n[1]||(n[1]=function(n){return e.offy=n}),min:-50,max:50,step:.1,onChange:h.onOffChange},null,8,["value","step","onChange"])):(0,o.kq)("",!0)]),(0,o._)("div",f,[d,e.isInit?((0,o.wg)(),(0,o.j4)(v,{key:0,class:"slider",value:e.height,"onUpdate:value":n[2]||(n[2]=function(n){return e.height=n}),min:-50,max:50,step:.1,onChange:h.onOffChange},null,8,["value","step","onChange"])):(0,o.kq)("",!0)])])])}var h=t(2539),v=t(9813),g=t(1223),b=t(4779),m=t(2729),y=t(6949),w=t(9124),O=t(5110),C=t(5532),j=t(4895);function Z(e,n,t,i){if(i=Number(i),isNaN(i))return;if(void 0===e.$height){e.$center=h.Z.clone(e.boundingSphere.center);const n=v.Z.fromCartesian(e.boundingSphere.center);e.$height=n.height,e.$longitude=n.longitude,e.$latitude=n.latitude,e.$enuMatrix=g.Z.eastNorthUpToFixedFrame(e.boundingSphere.center)}const o=new h.Z(n,t,i);console.log(n,t,i);const r=b.Z.multiplyByPoint(e.$enuMatrix,o,new h.Z),u=h.Z.subtract(r,e.$center,new h.Z);e.modelMatrix=b.Z.fromTranslation(u)}function x(e){const n=e.entities.add({label:{show:!1,showBackground:!0,font:"14px monospace",horizontalOrigin:m.Z.LEFT,verticalOrigin:y.Z.TOP,pixelOffset:new w.Z(15,0)}});let t=new O.Z(e.scene.canvas);t.setInputAction((function(t){const i=e.camera.pickEllipsoid(t.position,e.scene.globe.ellipsoid);if(k(e,i),i){const e=v.Z.fromCartesian(i),t=C.Z.toDegrees(e.longitude).toFixed(2),o=C.Z.toDegrees(e.latitude).toFixed(2);console.log(">>",C.Z.toDegrees(e.longitude),C.Z.toDegrees(e.latitude)),n.position=i,n.label.show=!0,n.label.text=`Lon: ${`   ${t}`.slice(-7)}°\nLat: ${`   ${o}`.slice(-7)}°`}else n.label.show=!1}),j.Z.LEFT_CLICK)}function k(e,n){return e.entities.add({name:"Blank blue pin",position:n,billboard:{image:"myAssets/icon.png",verticalOrigin:y.Z.BOTTOM}})}var _,T=t(7388),P=t(9489),E=t(3565),B=t(3610),A=function(){function e(){Object.defineProperty(this,"viewer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scene",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"build",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),window.CESIUM_BASE_URL="/",T.Z.DEFAULT_VIEW_RECTANGLE=P.Z.fromDegrees(89.5,20.4,110.4,61.2),this.viewer=new E.Z("cesiumContainer",{animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,sceneModePicker:!1,navigationHelpButton:!1,timeline:!1}),this.viewer.cesiumWidget.creditContainer.style.display="none",this.scene=this.viewer.scene}return Object.defineProperty(e.prototype,"createBuild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this;return this.build=new B.Z({url:e}),this.scene.globe.depthTestAgainstTerrain=!0,this.scene.primitives.add(this.build),this.viewer.zoomTo(this.build),this.build.readyPromise.then((function(e){return n.viewer.zoomTo(e),e}))}}),e}(),I=A,$={name:"App",components:{},data:function(){return{offx:7,offy:-11.2,height:-24.4,isInit:!1}},methods:{onOffChange:function(){Z(_.build,this.offx,this.offy,this.height)}},mounted:function(){var e=this;_=new I;var n=document.getElementsByClassName("cesium-infoBox-iframe")[0];n.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms"),n.setAttribute("src",""),_.createBuild("OSGB/tileset.json").then((function(){e.isInit=!0,e.onOffChange()})),x(_.viewer)}},L=t(3744);const S=(0,L.Z)($,[["render",p]]);var U=S,M=t(3820);t(2467);(0,i.ri)(U).use(M.ZP).mount("#app")}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={id:i,loaded:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=e,function(){var e=[];t.O=function(n,i,o,r){if(!i){var u=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],r=e[c][2];for(var a=!0,s=0;s<i.length;s++)(!1&r||u>=r)&&Object.keys(t.O).every((function(e){return t.O[e](i[s])}))?i.splice(s--,1):(a=!1,r<u&&(u=r));if(a){e.splice(c--,1);var l=o();void 0!==l&&(n=l)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,o,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){var e,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"===typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"===typeof i.then)return i}var r=Object.create(null);t.r(r);var u={};e=e||[null,n({}),n([]),n(n)];for(var a=2&o&&i;"object"==typeof a&&!~e.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(e){u[e]=function(){return i[e]}}));return u["default"]=function(){return i},t.d(r,u),r}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,i){return t.f[i](e,n),n}),[]))}}(),function(){t.u=function(e){return"js/"+e+"."+{267:"2e03ffe3",492:"349003ef",501:"62a933e5",635:"80bb078c",645:"707c94da"}[e]+".js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={},n="mycesium2:";t.l=function(i,o,r,u){if(e[i])e[i].push(o);else{var a,s;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==i||f.getAttribute("data-webpack")==n+r){a=f;break}}a||(s=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,t.nc&&a.setAttribute("nonce",t.nc),a.setAttribute("data-webpack",n+r),a.src=i),e[i]=[o];var d=function(n,t){a.onerror=a.onload=null,clearTimeout(p);var o=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(t)})),n)return n(t)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/"}(),function(){var e={143:0};t.f.j=function(n,i){var o=t.o(e,n)?e[n]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise((function(t,i){o=e[n]=[t,i]}));i.push(o[2]=r);var u=t.p+t.u(n),a=new Error,s=function(i){if(t.o(e,n)&&(o=e[n],0!==o&&(e[n]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),u=i&&i.target&&i.target.src;a.message="Loading chunk "+n+" failed.\n("+r+": "+u+")",a.name="ChunkLoadError",a.type=r,a.request=u,o[1](a)}};t.l(u,s,"chunk-"+n,n)}},t.O.j=function(n){return 0===e[n]};var n=function(n,i){var o,r,u=i[0],a=i[1],s=i[2],l=0;if(u.some((function(n){return 0!==e[n]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(s)var c=s(t)}for(n&&n(i);l<u.length;l++)r=u[l],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},i=self["webpackChunkmycesium2"]=self["webpackChunkmycesium2"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(3979)}));i=t.O(i)})();
//# sourceMappingURL=app.e1372596.js.map